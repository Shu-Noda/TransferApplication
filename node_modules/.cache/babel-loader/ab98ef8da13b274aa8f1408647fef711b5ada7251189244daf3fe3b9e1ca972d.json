{"ast":null,"code":"var _jsxFileName = \"/Users/nodashu/transferapp2/src/components/pages/borrow/Borrow.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport '../../layout/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Borrow(props) {\n  _s();\n  const protable = document.getElementById('product-table');\n  const tblbody = document.getElementById('tblbody');\n  const didEffect = React.useRef(false);\n  const {\n    contract,\n    setContract\n  } = props;\n  const [newOwner, setNewOwner] = useState(null);\n  useEffect(() => {\n    const setData = async () => {\n      if (!didEffect.current) {\n        didEffect.current = true;\n        try {\n          const tblbody = document.getElementById('tblbody');\n          var product_total = await contract.getCode();\n          for (let num = 1; num <= product_total; num++) {\n            if ((await contract.readFlag(num)) == true) {\n              continue;\n            }\n            let tr = document.createElement('tr');\n            var td = document.createElement('td');\n            td.innerText = num;\n            tr.appendChild(td);\n            var td = document.createElement('td');\n            //var cellText = document.createTextNode(await contract.readProductName(num));\n            //td.appendChild(cellText);\n            td.innerText = await contract.readProductName(num);\n            tr.appendChild(td);\n            var td = document.createElement('td');\n            //var cellText = document.createTextNode(await contract.readClassNum(num));\n            td.innerText = await contract.readClassNum(num);\n            //td.appendChild(cellText);\n            tr.appendChild(td);\n            var td = document.createElement('td');\n            //var cellText = document.createTextNode(await contract.readColor(num));\n\n            td.innerText = await contract.readColor(num);\n            //td.appendChild(cellText);\n            tr.appendChild(td);\n            var td = document.createElement('td');\n            //var cellText = document.createTextNode(await contract.readCompany(num));\n            td.innerText = await contract.readCompany(num);\n            //td.appendChild(cellText);\n            tr.appendChild(td);\n            var td = document.createElement('td');\n            //var cellText = document.createTextNode(await contract.readManuDate(num));\n            td.innerText = await contract.readManuDate(num);\n            //td.appendChild(cellText);\n            tr.appendChild(td);\n            var td = document.createElement('td');\n            //var cellText = document.createTextNode(await contract.readPurDate(num));\n            td.innerText = await contract.readPurDate(num);\n            //td.appendChild(cellText);\n            tr.appendChild(td);\n            console.log(tr);\n            tblbody.appendChild(tr);\n            console.log(num);\n          }\n          const selectProduct = document.getElementById('product-select');\n          for (let num2 = 1; num2 <= product_total; num2++) {\n            if ((await contract.readFlag(num2)) == true) {\n              continue;\n            }\n            const option1 = document.createElement('option');\n            option1.value = num2;\n            option1.textContent = num2 + \",\" + (await contract.readProductName(num2));\n            selectProduct.appendChild(option1);\n          }\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    };\n    setData();\n  }, []);\n  const clickBorrow = async () => {\n    const selection = document.getElementById('product-select').value;\n    setNewOwner(newOwner);\n    await contract.changeOwner(selection, newOwner);\n    setTimeout(function () {\n      window.location.href = 'http://localhost:3000/cor';\n    }, 2 * 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Borrow\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u5546\\u54C1\\u8CB8\\u51FA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        align: \"center\",\n        id: \"product-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5546\\u54C1\\u756A\\u53F7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5546\\u54C1\\u540D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5546\\u54C1\\u5206\\u985E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u8272\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u88FD\\u9020\\u4F1A\\u793E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u88FD\\u9020\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u8CFC\\u5165\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          id: \"tblbody\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"product-select\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u540D\\u524D:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newOwner,\n          onChange: event => setNewOwner(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clickBorrow,\n        children: \"\\u501F\\u308A\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"\\u65B0\\u898F\\u767B\\u9332\\u306F\", /*#__PURE__*/_jsxDEV(Link, {\n          to: `/register/`,\n          children: \"\\u3053\\u3061\\u3089\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `../home6`,\n          children: \"\\u30DB\\u30FC\\u30E0\\u306B\\u623B\\u308B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(Borrow, \"wc2TswralSPPuw/xzs2uLBixReQ=\");\n_c = Borrow;\n;\nexport default Borrow;\nvar _c;\n$RefreshReg$(_c, \"Borrow\");","map":{"version":3,"names":["React","useState","useEffect","Link","Borrow","props","protable","document","getElementById","tblbody","didEffect","useRef","contract","setContract","newOwner","setNewOwner","setData","current","product_total","getCode","num","readFlag","tr","createElement","td","innerText","appendChild","readProductName","readClassNum","readColor","readCompany","readManuDate","readPurDate","console","log","selectProduct","num2","option1","value","textContent","error","clickBorrow","selection","changeOwner","setTimeout","window","location","href","event","target"],"sources":["/Users/nodashu/transferapp2/src/components/pages/borrow/Borrow.js"],"sourcesContent":["import React, {useState,useEffect} from'react'\nimport { Link } from \"react-router-dom\";\nimport '../../layout/App.css';\n\nfunction Borrow(props){\n\n  const protable = document.getElementById('product-table');\n  const tblbody = document.getElementById('tblbody');\n  const didEffect = React.useRef(false);\n  const {contract, setContract} = props;\n  const [newOwner, setNewOwner] = useState(null);\n\n\n\n  useEffect(() =>{\n        \n    const setData = async()=> {\n        if (!didEffect.current) {\n            didEffect.current = true;\n\n            \n          try{\n              const tblbody = document.getElementById('tblbody');\n\n    \n              var product_total = await contract.getCode();\n\n              for(let num = 1; num <=product_total;num++){\n                if(await contract.readFlag(num)== true){\n                  continue;\n                  \n              }\n                let tr = document.createElement('tr');\n                var td = document.createElement('td');\n                td.innerText = num;\n                tr.appendChild(td);\n    \n                var td = document.createElement('td');\n                //var cellText = document.createTextNode(await contract.readProductName(num));\n                //td.appendChild(cellText);\n                td.innerText = await contract.readProductName(num);\n                tr.appendChild(td);\n    \n                var td = document.createElement('td');\n                //var cellText = document.createTextNode(await contract.readClassNum(num));\n                td.innerText = await contract.readClassNum(num);\n                //td.appendChild(cellText);\n                tr.appendChild(td);\n    \n                var td = document.createElement('td');\n                //var cellText = document.createTextNode(await contract.readColor(num));\n    \n                td.innerText = await contract.readColor(num);\n                //td.appendChild(cellText);\n                tr.appendChild(td);\n    \n                var td = document.createElement('td');\n                //var cellText = document.createTextNode(await contract.readCompany(num));\n                td.innerText = await contract.readCompany(num);\n                //td.appendChild(cellText);\n                tr.appendChild(td);\n    \n                var td = document.createElement('td');\n                //var cellText = document.createTextNode(await contract.readManuDate(num));\n                td.innerText = await contract.readManuDate(num);\n                //td.appendChild(cellText);\n                tr.appendChild(td);\n    \n                var td = document.createElement('td');\n                //var cellText = document.createTextNode(await contract.readPurDate(num));\n                td.innerText = await contract.readPurDate(num);\n                //td.appendChild(cellText);\n                tr.appendChild(td);\n            \n                console.log(tr);\n                tblbody.appendChild(tr);\n                console.log(num);\n    \n              }\n              const selectProduct = document.getElementById('product-select');\n\n              for(let num2=1;num2<=product_total;num2++){\n                if(await contract.readFlag(num2)== true){\n                  continue;\n                }\n                const option1 = document.createElement('option');\n                option1.value = num2\n                option1.textContent = num2+ \",\" + await contract.readProductName(num2);\n\n                selectProduct.appendChild(option1);\n\n\n              }\n          }catch(error){\n            console.error(error);\n          }\n        } \n\n        \n    }\n    setData();\n\n}, []);\n  const clickBorrow = async() =>{\n    const selection = document.getElementById('product-select').value;\n    setNewOwner(newOwner);\n\n    await contract.changeOwner(selection,newOwner);\n\n    setTimeout(function(){\n      window.location.href = 'http://localhost:3000/cor';\n    }, 2*1000);\n\n\n\n  }\n\n\n  return (\n    <>\n    <div className='Borrow'>\n      <p>商品貸出</p>\n      <table align='center' id=\"product-table\">\n            <thead>\n                <tr>\n                    <th>商品番号</th>\n                    <th>商品名</th>\n                    <th>商品分類</th>\n                    <th>色</th>\n                    <th>製造会社</th>\n                    <th>製造日</th>\n                    <th>購入日</th>\n                </tr>\n            </thead>\n            <tbody id = \"tblbody\">\n            </tbody>\n\n            \n        </table>\n\n      <select id=\"product-select\"></select>\n      <form>\n        <label>名前:</label>\n        <input type=\"text\" value={newOwner} onChange={(event) => setNewOwner(event.target.value)}/>\n      </form>\n      <p></p>\n      <button onClick={clickBorrow}>借りる</button>\n\n\n\n      <div>\n        新規登録は<Link to={`/register/`}>こちら</Link>\n      </div>\n      <div>\n        <Link to={`../home6`}>ホームに戻る</Link>\n      </div>\n    </div>\n    </>\n  );\n};\n\nexport default Borrow;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}